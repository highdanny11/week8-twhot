{"version":3,"sources":["webpack:///./src/views/Front/OrderCheckIn.vue","webpack:///./src/views/Front/OrderCheckIn.vue?01ca","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","role","active","isLoading","order","is_paid","products","item","i","key","product","title","qty","total","create_at","id","user","email","name","tel","address","type","paytoOrder","to","spaceID","data","methods","getorder","this","$http","get","then","res","Date","JSON","parse","stringify","toLocaleString","catch","console","log","post","mounted","$route","params","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"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","file":"js/chunk-4570864d.b9b13df0.js","sourcesContent":["<template>\r\n<div class=\"container\">\r\n  <Loading :active=\"isLoading\" >\r\n    <div class=\"spinner-grow text-danger\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n    <div class=\"spinner-grow text-warning mx-3\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n    <div class=\"spinner-grow text-success\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </Loading>\r\n     <div class=\"row justify-content-center my-4\">\r\n    <div class=\"col-lg-3 py-3 text-center border border-2\">1.輸入訂單資料</div>\r\n    <div class=\"col-lg-3 py-3 text-center border border-2 mx-5\"\r\n          :class=\"{'bg-primary':!order.is_paid}\">\r\n      2.確認付款\r\n    </div>\r\n    <div class=\"col-lg-3 py-3 text-center border border-2\"\r\n         :class=\"{'bg-primary':order.is_paid}\">3.完成</div>\r\n  </div>\r\n  <div class=\"row mb-5 justify-content-center \">\r\n    <div class=\"col-lg-5 shadow p-4 bg-sunblue\">\r\n        <h2 class=\"text-center\">確認付款</h2>\r\n      <table class=\"table table-light\">\r\n          <tbody>\r\n              <tr v-for=\"(item, i) in products\" :key=\"i\">\r\n                  <td class=\"p-2\">{{item.product.title}}</td>\r\n                  <td class=\"p-2\">{{item.qty}}/份</td>\r\n                  <td class=\"p-\">{{item.total}}元</td>\r\n              </tr>\r\n          </tbody>\r\n      </table>\r\n      <table class=\"table table-light\">\r\n        <tbody>\r\n          <tr>\r\n            <th class=\" p-2\">下單日期</th>\r\n            <td class=\" p-2\">{{this.order.create_at}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th class=\" p-2\">訂單編號</th>\r\n            <td class=\" p-2 text-danger\">{{order.id}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th class=\" p-2\">Email</th>\r\n            <td class=\" p-2\">{{user.email}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th class=\" p-2\">姓名</th>\r\n            <td class=\" p-2\">{{user.name}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th class=\" p-2\">收件人電話</th>\r\n            <td class=\" p-2\">{{user.tel}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th class=\" p-2\">收件人地址</th>\r\n            <td class=\" p-2\">{{user.address}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th class=\" p-2\">訂單金額</th>\r\n            <td class=\" p-2 text-danger\">${{order.total}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th class=\" p-2\">付款狀態</th>\r\n            <td class=\" p-2 text-danger\">{{order.is_paid?'付款完成':'未付款'}}</td>\r\n          </tr>\r\n           <tr>\r\n               <td class=\" p-2\"></td>\r\n               <td class=\" p-2\" >\r\n                  <button type=\"button\" class=\"btn btn-primary\" v-if=\"!order.is_paid\" @click=\"paytoOrder()\">確認付款</button>\r\n                  <router-link  class=\"btn btn-primary\" v-if=\"order.is_paid\" :to=\"`/ProductsList/${spaceID}`\" >來去逛逛</router-link>\r\n               </td>\r\n           </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      order: {},\r\n      user: {},\r\n      products: {},\r\n      isLoading: false,\r\n      spaceID: null\r\n    }\r\n  },\r\n  methods: {\r\n    getorder (id) {\r\n      this.isLoading = true\r\n      this.$http.get(`${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/order/${id}`)\r\n        .then(res => {\r\n          this.isLoading = false\r\n          this.order = res.data.order\r\n          this.user = res.data.order.user\r\n          this.products = res.data.order.products\r\n          this.order.create_at = new Date(\r\n            JSON.parse(JSON.stringify(this.order.create_at) + '000')\r\n          )\r\n          this.order.create_at = this.order.create_at.toLocaleString()\r\n        })\r\n        .catch((res) => {\r\n          console.log(res)\r\n        })\r\n    },\r\n    paytoOrder () {\r\n      this.$http.post(`${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/pay/${this.order.id}`)\r\n        .then(res => {\r\n          this.getorder(this.order.id)\r\n        })\r\n        .catch((res) => {\r\n          console.log(res)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    const { id } = this.$route.params\r\n    this.getorder(id)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderCheckIn.vue?vue&type=template&id=6f297c14\"\nimport script from \"./OrderCheckIn.vue?vue&type=script&lang=js\"\nexport * from \"./OrderCheckIn.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}