(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4570864d"],{a9dc:function(e,t,c){"use strict";c.r(t);c("b0c0");var r=c("7a23"),a={class:"container"},o=Object(r["createVNode"])("div",{class:"spinner-grow text-danger",role:"status"},[Object(r["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),s=Object(r["createVNode"])("div",{class:"spinner-grow text-warning mx-3",role:"status"},[Object(r["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),d=Object(r["createVNode"])("div",{class:"spinner-grow text-success",role:"status"},[Object(r["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),n={class:"row justify-content-center my-4"},l=Object(r["createVNode"])("div",{class:"col-lg-3 py-3 text-center border border-2"},"1.輸入訂單資料",-1),i={class:"row mb-5 justify-content-center "},b={class:"col-lg-5 shadow p-4 bg-sunblue"},p=Object(r["createVNode"])("h2",{class:"text-center"},"確認付款",-1),O={class:"table table-light"},u={class:"p-2"},j={class:"p-2"},N={class:"p-"},h={class:"table table-light"},V=Object(r["createVNode"])("th",{class:" p-2"},"下單日期",-1),g={class:" p-2"},y=Object(r["createVNode"])("th",{class:" p-2"},"訂單編號",-1),f={class:" p-2 text-danger"},v=Object(r["createVNode"])("th",{class:" p-2"},"Email",-1),m={class:" p-2"},x=Object(r["createVNode"])("th",{class:" p-2"},"姓名",-1),k={class:" p-2"},w=Object(r["createVNode"])("th",{class:" p-2"},"收件人電話",-1),S={class:" p-2"},D=Object(r["createVNode"])("th",{class:" p-2"},"收件人地址",-1),_={class:" p-2"},L=Object(r["createVNode"])("th",{class:" p-2"},"訂單金額",-1),B={class:" p-2 text-danger"},C=Object(r["createVNode"])("th",{class:" p-2"},"付款狀態",-1),J={class:" p-2 text-danger"},$=Object(r["createVNode"])("td",{class:" p-2"},null,-1),F={class:" p-2"},I=Object(r["createTextVNode"])("來去逛逛");function q(e,t,c,q,E,P){var T=Object(r["resolveComponent"])("Loading"),z=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])(T,{active:E.isLoading},{default:Object(r["withCtx"])((function(){return[o,s,d]})),_:1},8,["active"]),Object(r["createVNode"])("div",n,[l,Object(r["createVNode"])("div",{class:["col-lg-3 py-3 text-center border border-2 mx-5",{"bg-primary":!E.order.is_paid}]}," 2.確認付款 ",2),Object(r["createVNode"])("div",{class:["col-lg-3 py-3 text-center border border-2",{"bg-primary":E.order.is_paid}]},"3.完成",2)]),Object(r["createVNode"])("div",i,[Object(r["createVNode"])("div",b,[p,Object(r["createVNode"])("table",O,[Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(E.products,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:t},[Object(r["createVNode"])("td",u,Object(r["toDisplayString"])(e.product.title),1),Object(r["createVNode"])("td",j,Object(r["toDisplayString"])(e.qty)+"/份",1),Object(r["createVNode"])("td",N,Object(r["toDisplayString"])(e.total)+"元",1)])})),128))])]),Object(r["createVNode"])("table",h,[Object(r["createVNode"])("tbody",null,[Object(r["createVNode"])("tr",null,[V,Object(r["createVNode"])("td",g,Object(r["toDisplayString"])(this.order.create_at),1)]),Object(r["createVNode"])("tr",null,[y,Object(r["createVNode"])("td",f,Object(r["toDisplayString"])(E.order.id),1)]),Object(r["createVNode"])("tr",null,[v,Object(r["createVNode"])("td",m,Object(r["toDisplayString"])(E.user.email),1)]),Object(r["createVNode"])("tr",null,[x,Object(r["createVNode"])("td",k,Object(r["toDisplayString"])(E.user.name),1)]),Object(r["createVNode"])("tr",null,[w,Object(r["createVNode"])("td",S,Object(r["toDisplayString"])(E.user.tel),1)]),Object(r["createVNode"])("tr",null,[D,Object(r["createVNode"])("td",_,Object(r["toDisplayString"])(E.user.address),1)]),Object(r["createVNode"])("tr",null,[L,Object(r["createVNode"])("td",B,"$"+Object(r["toDisplayString"])(E.order.total),1)]),Object(r["createVNode"])("tr",null,[C,Object(r["createVNode"])("td",J,Object(r["toDisplayString"])(E.order.is_paid?"付款完成":"未付款"),1)]),Object(r["createVNode"])("tr",null,[$,Object(r["createVNode"])("td",F,[E.order.is_paid?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(e){return P.paytoOrder()})},"確認付款")),E.order.is_paid?(Object(r["openBlock"])(),Object(r["createBlock"])(z,{key:1,class:"btn btn-primary",to:"/ProductsList/".concat(E.spaceID)},{default:Object(r["withCtx"])((function(){return[I]})),_:1},8,["to"])):Object(r["createCommentVNode"])("",!0)])])])])])])])}c("99af");var E={data:function(){return{order:{},user:{},products:{},isLoading:!1,spaceID:null}},methods:{getorder:function(e){var t=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/","api/").concat("highdanny11-hexschool","/order/").concat(e)).then((function(e){t.isLoading=!1,t.order=e.data.order,t.user=e.data.order.user,t.products=e.data.order.products,t.order.create_at=new Date(JSON.parse(JSON.stringify(t.order.create_at)+"000")),t.order.create_at=t.order.create_at.toLocaleString()})).catch((function(e){console.log(e)}))},paytoOrder:function(){var e=this;this.$http.post("".concat("https://vue3-course-api.hexschool.io/","api/").concat("highdanny11-hexschool","/pay/").concat(this.order.id)).then((function(t){e.getorder(e.order.id)})).catch((function(e){console.log(e)}))}},mounted:function(){var e=this.$route.params.id;this.getorder(e)}};E.render=q;t["default"]=E},b0c0:function(e,t,c){var r=c("83ab"),a=c("9bf2").f,o=Function.prototype,s=o.toString,d=/^\s*function ([^ (]*)/,n="name";r&&!(n in o)&&a(o,n,{configurable:!0,get:function(){try{return s.call(this).match(d)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-4570864d.b9b13df0.js.map